## 目的
传统的前端项目初始流程一般是这样： 
![Alt text](image-2.png)


传统的初始化步骤，花费的时间并不少
人工操作的情况下，总有改漏的情况出现。这个缺点有时很致命。
没有更新项目仓库地址，导致提交代码到旧仓库
基于这些情况，编写命令行工具（CLI）的目的就很明确：


- 用于新项目工程的初始化

- 利用工具进行初始化，可以节省项目初期的准备时间

- 避免出现改漏的情况


新的流程示意图

![Alt text](image-1.png)

 ## 自动化流程分析

 ![Alt text](image.png)
 - 配置信息
 - 模版文件
命令行工具的角色 负责将两个信息进行融合 提供一个交互平台给用户

## 准备
1. 配置信息工具
   - **commander** ：可以接收命令行传入的参数 
   >借鉴Ruby commander理念实现的命令行执行补全解决方案 
   - **inquirer**:常用交互式命令行用户界面的集合, 用询问式的语句，与用户进行交互，接收参数
2. 模版信息
   - **mem-fs** :对文件进行读取，存入内存中 
   - **mem-fs-editor**:是对内存中的文件信息，使用ejs语法进行编译。最后调用commit方法输出最终文件.
   - **ejs** /**jade**  javaScript 模板引擎,可以根据传入的参数，对模板标签进行替换，最终生成html。
  > 如果把所有项目文件，不管文件后缀名，都看成是ejs模板，则可以在文件内容中使用ejs语法。再根据配置信息进行替换，最终生成新文件
1. 提示信息工具
   - **chalk**
2. 文件操作
   - **shelljs** 一些项目文件，不需要修改，只用直接copy。可以使用shelljs.copySync同步方式生成。一些文件夹，需要提前构建，可以使用shelljs.mkdir进行创建
## 实现

1. 初始化
2. 生成全局指令
   1. 新建执行文件
   2. 链接指令到全局
3. 运行
4. 初始化操作类型Creation
5. 修改cli文件
6. 实现命令行参数读取
7. 获取用户输入配置信息
8. 模版文件替换输出
  总结：
    自动初始化一个项目的流程不外乎以下三点：
    读取用户配置
    读取模板文件
    根据配置，编译模板文件，输出最终文件
    命令行工具，是对这三点的有效整合，串连成一个规范的流程。 
## 发布npm包的注意点
1. 安装依赖包方式
2. .gitignore 文件
   1. npm官方是默认去除.gitignore文件的，不管你用任何方式声明.gitignore文件需要publish。
解决方式是：将.gitignore改名称，比如改为gitignore。当使用CLI工具时，再将文件名改回来。
例子：

creation.copy('gitignore', projectResolve('.gitignore')) bilibili
1. 项目开源 发布npm包
    登录账号 npm login
    查看源 npm get rigistry
    提交 npm publish 

   

## 使用

